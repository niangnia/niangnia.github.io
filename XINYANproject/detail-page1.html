<!DOCTYPE html>
<html lang="ch" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>how to say</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/page-detail.css"/>
    <style type="text/css">
    @font-face {
      /*自定义字体名*/
      font-family: 'specialhead';
      /*字体引入路径*/
      src: url('font/喜鹊招牌体(简+繁体).ttf');
    }
    @font-face {
      /*自定义字体名*/
      font-family: 'mainbody-deco';
      /*字体引入路径*/
      src: url('font/喜鹊聚珍体.ttf');
    }
    @font-face {
      /*自定义字体名*/
      font-family: 'Song';
      /*字体引入路径*/
      src: url('font/原版宋体.ttf');
    }
    </style>

  </head>

  <body>
    <!--详细页面-头版-->
    <div class="container-fluid">
      <div class="row">
        <p id="deco">新盐要闻 | 说说吴语故事</p>
      </div>
    <!-- 大导航栏(假的那个) -->
    <div style="border-top: 2.4px solid black; width: 100%;"></div>
     <div class="jia">
       <div class="row">
         <div class="col-md-12 col-lg-3">
           <img src="image/logo-black.png" alt="logo" width=264px>
         </div>
         <div class="col-lg-2">
         </div>
         <div class="col-md-12 col-lg-2" id="fatenavi" >
           <a class="navbar-brand" href="detail-page1.html">
           怎“说”

         </a>
         <div id="smtit">"流"言|“牙牙”</div>
         </div>
         <div class="col-md-12 col-lg-2 "id="fatenavi" >
           <a class="navbar-brand" href="detail-page2.html">
           怎“写”
           </a>
          <div id="smtit">效仓颉|天涯歌女</div>
         </div>
         <div class="col-md-12 col-lg-2"id="fatenavi">
           要什么
          <div id="smtit">效仓颉|天涯歌女</div>
         </div>
         <div class="col-md-12 col-lg-1" style="text-align:center;">
           XINYAN
           <br>
           BAY
           <br>
         </div>
       </div>
       <!--看不懂TT<div style="border-top: 3px solid black; width: 100%;"></div>
       <img src="image/logo-black.png" alt="logo" width=300px>
       <div style="border-top:3px solid black; width:100px; position:relative; left:210px;transform-origin: 100% 0%;transform: rotate(90deg);"></div>-->
     </div >
     <div style="border-top: 2px solid black; width: 100%;"></div>
    <!--详细页面-头版正文 -->
    <div class="frontpagecontent">
      <div class="row">
        <div class="col-md-12 col-lg-5" id="frontcontent-img">
          <img src="image/zenmeshuo.png" width=444px>
        </div>
        <div class="col-md-12 col-lg-7" id="frontall">
          <div class="row" id="frontcontent-title">
            囡囡
          </div>
          <div class="row" id="frontcontent">
            <div class="col-6">
              <p id="mainbody1">囡，读作nān，是典型的、知名度较高、常用的的吴语方言。起初是苏南、浙江、上海等吴语地区对儿女的称呼，如:小囡，囡儿([方言]∶女儿)，囡仵([方言]女孩)，囡大细([方言]∶子女)，也指小女孩，或泛指小孩子。
类似“囡”，吴语有数万个特有词汇和诸多特征本字，每一个词汇和字都有独特的读音，是江南人思维方式、生活情调、文化涵养、社会生产、风俗民情、语言习惯的生动体现。
使用python在新浪微博上以关键词“囡囡”爬取500余条博文进行分词，并绘制词云图，从高频词来感受吴语方言在如今社交媒体上的使用习惯。</p>
            </div>
            <div class="col-6" id="nannan" style='margin-top:-2.4em'>
              <img src="image/ciyun.png" width=300px >
            </div>
          </div>
          <div class="row">
            <p id="frontend">下边栏结束</p>
          </div>
        </div>
      </div>
    </div>
  </div>

    <!-- 真导航 -->

<div class="header" style='background:white;z-index:2' >
  <div style="border-top: 2px solid black; width: 90%; position:relative; top:0; left: 5%;"></div>
   <img src="image/logo-black.png" style="height:35px;position:absolute; left:15%; top:13px;">
   <a href="#top" style="position:absolute;left:60%; font-size:25px; text-decoration:none;top:-10px; color:black; font-family: 'mainbody-deco'; " >怎“说”</a>
   <a href="detail-page2.html" style="position:absolute;left:70%;font-size:25px; text-decoration:none; color:black; top:-10px;font-family: 'mainbody-deco';">怎”写</a>
   <a href="#yaya" style="position:absolute;left:80%;font-size:25px; text-decoration:none; color:black;top:-10px;font-family: 'mainbody-deco';">要什么</a>
  <div style="border-top: 2px solid black; width: 90%; position:relative; top:60px;left:5%;"></div>
  </div>
</div>
    <!-- 用来给真导航定位的块块，但是最好不要显示 -->
<div class="content">
    <div class="sk"></div>
</div>
<div class="backtop">
    <img src="./images/close2.png" alt="">
    <a href="javascript:;"></a>
</div>


    <!-- 第二页正文留位置 -->
    <div class="container-fluid" id='liuyan'>
      <div class="row" id="secpage">
        <div class="col-sm-12 col-md-3 col-lg-2" id="vertit">
          <div class="circle"></div>
          <div class="idonk">
            <img src="image/liuyan.png" width=164px>
          </div>
          <div id="list-example" class="list-group" style='z-index:1'>
           <a class="list-group-item list-group-item-action" href="#top" >说</a>
           <a class="list-group-item list-group-item-action" href="#liuyan" style="font-size:20px; font-weight:bolder;">流言</a>
           <a class="list-group-item list-group-item-action" href="#yaya">牙牙</a>
          </div>
<!--只是为了指示滚动监听的位置这一块就先无效吧<div data-bs-spy="scroll" data-bs-target="#list-example" data-bs-offset="0" class="scrollspy-example" tabindex="0">
<h4 id="list-item-1">Item 1</h4>
<p>...</p>
<h4 id="list-item-2">Item 2</h4>
<p>...</p>
<h4 id="list-item-3">Item 3</h4>
<p>...</p>
<h4 id="list-item-4">Item 4</h4>
<p>...</p>
</div>-->
</div>
        <div class="col-sm-12 col-md-4 col-lg-7" id="seccontent">
          <div class="col-2">
            <div class="anima" id="button"></div>
          </div>
          <div class="col-8" id="xuyaojuzhong">
            <video src="image/shipin.mp4"  width=520px id="videL" autoplay='autoplay'><!--controls='controls'-->></video>


            <script>
                var videL = document.getElementById('videL');
                var button = document.getElementById('button');
                button.onclick = function () {
                    if (videL.paused) {
                        videL.play();
                    } else {
                        videL.pause();
                    }
                }
            </script>
          </div>
          <div class="col-2">
          </div>
        </div>
        <div class="col-sm-12 col-md-4 col-lg-3" id="vertext">
          <div class="row">
            <div class="col-8">
              <p>
  吴语单字调音调丰富，单字调以八调类——将平上去入四声按声母清浊再分为阴阳——为基准，部分地区还有多的、少的。同时吴语有东亚诸语族内最丰富的连调现象，使得吴语发音的高低走向更加起伏多变。
  <br>
  吴语内部包含非常丰富的分支，大致可分为北部和南部两个大区块。不同“片”的吴语之间也存在着一定的差异，俗话说南方方言常是“十里不同音”，吴语使用地区就是其中的典型代表。吴语语音和普通话发音之间更是存在很大差异，至于两者往往难以用于彼此对话。
  <br>
  但这并不影响吴语从古至今都有着“吴侬软语”的赞称，这种吴人所说的富有趣味和内涵的语言听起来黏腻而又婉转，闻之就像亲临吴地的小桥流水一般，让人心生喜悦。
</p>
            </div>
            <div class="col-4">
              <div class="vertical-text">
                流言——<br>吴语口语发音音调特点
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 第三页正文留位置 -->
    <div id='yaya'>
    <div class="container-fluid" >
      <div class="row" id="trdpage">
        <div class="col-sm-12 col-md-3 col-lg-2" id="vertit">
          <div class="circle"></div>
          <div class="idonk">
            <img src="image/yaya.png" width=164px>
          </div>
          <div id="list-example" class="list-group">
            <a class="list-group-item list-group-item-action" href="#top" >说</a>
            <a class="list-group-item list-group-item-action" href="#liuyan" >流言</a>
            <a class="list-group-item list-group-item-action" href="#yaya" style="font-size:20px; font-weight:bolder;">牙牙</a>
          </div>
<!--只是为了指示滚动监听的位置这一块就先无效吧<div data-bs-spy="scroll" data-bs-target="#list-example" data-bs-offset="0" class="scrollspy-example" tabindex="0">
<h4 id="list-item-1">Item 1</h4>
<p>...</p>
<h4 id="list-item-2">Item 2</h4>
<p>...</p>
<h4 id="list-item-3">Item 3</h4>
<p>...</p>
<h4 id="list-item-4">Item 4</h4>
<p>...</p>
</div>-->
</div >
        <div class="col-sm-12 col-md-4 col-lg-3" id="text3">
          <div class="row" style='padding-right:13px;'>
            <p>注音符号，原名注音字母，简称注音，是标准汉语标音系统之一。符号形来自其字源的部分笔划或为其字源异体，发音则取自其字源的声或韵。吴语也拥有属于整体注音符号父系统之下的注音符号。
<br>
注音符号系统在1912 年由中华民国教育部制定，并曾在1918 年正式发布。中国大陆自 1958 年推行汉语拼音方案后停止使用注音符号。目前在中国大陆几乎不使用这一系统，仅在部分字典条目之中略有记载。</p>
          </div>
          <div class="row" style='width:260px;'>
            <img src='image/yayaya.png' style='margin-left:-15px;'>
          </div>

        </div>
        <div class="col-sm-12 col-md-4 col-lg-7" id="content3">
          <div class="row">

            <div class="col-8" id="smtit3">
              注音符号系统可视化
            </div>
          </div>
          <div class="row" style='padding-left:2em;padding-top:20px;'>
            <p>当汉语拼音和注音符号用动画联系在一起，你还认识它们吗？
<br>
a、o、e、i、u的字形来自拼读字符时的口形变化，以及吴语中发音给人带来的圆润感。
<br>
b、p、m、f、Ü字形来自拼读字符时的发音，以及其注音符号对应的拼音字母的形状。
</p>
          </div>
          <div class="row">
            <div id="carousel">
                <ul> <!-- 图片容器 -->
                  <li>
                      <img src="image/1.gif" >
                  </li>
                  <li>
                      <img src="image/2.gif" >
                  </li>
                  <li>
                      <img src="image/3.gif" >
                  </li>
                  <li>
                      <img src="image/4.gif" >
                  </li>
                  <li>
                      <img src="image/5.gif" >
                  </li>
                    <li>
                        <img src="image/6.gif" >
                    </li>
                    <li>
                        <img src="image/7.gif" style='margin-left:10px;'>
                    </li>
                    <li>
                        <img src="image/8.gif"style='margin-left:10px;'>
                    </li>
                    <li>
                        <img src="image/9.gif"style='margin-left:10px;'>
                    </li>
                    <li>
                        <img src="image/10.gif"style='margin-left:10px;'>
                    </li>
                </ul>
                <!-- 按钮组 -->
                <div id="leftArrow" class="iconfont icon-arrow-lift"><</div> <!-- 左箭头切换按钮 -->
                <div id="rightArrow" class="iconfont icon-arrow-right">></div> <!-- 右箭头切换按钮 -->
                <div id="sliderBtn"></div> <!-- 切换按钮组 -->
            </div>
          </div>
        </div>
      </div>
    </div>
</div>



    <script src="https://unpkg.com/spacingjs" defer></script>
    <script>
    // 1.获取元素
    let sk = document.querySelector('.sk')
    let header = document.querySelector('.header')
    // 页面滚动事件
    window.addEventListener('scroll' , function(){
        // 获取滚动距离
        // console.log(document.documentElement.scrollTop);
        let top = document.documentElement.scrollTop
        // 获取秒杀的位置
        // console.log(sk.offsetTop);
        let sktop = sk.offsetTop
        // 判断什么时候显示和隐藏
        if(top >= sktop){
            header.style.top = '0'
        }
        else{
            header.style.top = '-80px'
        }
    })
    </script>
    <script type="text/javascript">
        var imgArr = []; // 图片数组
        var curIndex = 0; // 当前显示图片
        var timer = null; // 定时器
        var clickAllow = true; // 锁，是否允许用户点击
        var btnList = []; // 右下角切换按钮组

        function slide(slideContainer , targetIndex = curIndex + 1){
            var width = 0; // 计算切换图片要滑动的距离
            if(targetIndex > curIndex){
                for(let i=curIndex;i<targetIndex;++i) width+=imgArr[i].width; // 正向切换则计算本图片到后续图片宽度
            }else{
                if(targetIndex === -1) width = imgArr[imgArr.length-1].width; // 特殊处理第一张图片
                else for(let i=targetIndex;i<curIndex;++i) width+=imgArr[i].width; // 逆向切换处理宽度
            }
            clickAllow = false; // 不允许用户点击
            var step = width/60; // 动态设置步长
            step = targetIndex > curIndex ? step : -step; // 正向逆向切换
            var curConLeft = slideContainer.offsetLeft; // 获取ul的left
            var distanceMoved = 0; // 已经移动的距离
            var slideInterval = setInterval(function (){ // 此定时器是为了实现切换动画
                if(Math.abs(width - distanceMoved) > Math.abs(step)){ // 边界判定，判断已移动距离以及应移动距离的差与步长关系
                     curConLeft -= step; // 大于步长则不断移动
                    slideContainer.style.left = `${curConLeft - step}px`; // 移动
                    distanceMoved += Math.abs(step); // 已移动距离加步长
                }else{
                    clearInterval(slideInterval); // 若最后移动距离不足步长，则清除动画定时器
                    var directMove = step > 0 ? (curConLeft - width + distanceMoved) : (curConLeft + width - distanceMoved); // 正向移动与逆向移动的计算方式不同
                    slideContainer.style.left = `${directMove}px`; // 直接完成此次动画
                    distanceMoved = 0; // 重设移动距离为0
                    curIndex = targetIndex; // 设置当前index
                    if(curIndex === imgArr.length){ // index加1，判断是否为最后一张来作边缘处理
                        curIndex = 0; // 最后一张则重置index
                        slideContainer.style.left = `-${imgArr[0].width}px`;  // 重置ul
                    }else if (curIndex === -1) {
                        curIndex = imgArr.length-1; // 第一张重置index
                        slideContainer.style.left = `-${slideContainer.offsetWidth - imgArr[imgArr.length-1].width - imgArr[0].width}px`;  // 重置ul
                    }
                    switchBtnActive(); // 右下角按钮的切换
                    clickAllow = true; // 允许点击
                }
            }, 10);
        }

        function switchBtnActive(){
            btnList.forEach((v) => {
                v.className = "unitBtn"; // 设置其他按钮为灰色
            })
            btnList[curIndex] .className = "unitBtn active"; // 设置当前按钮为蓝色
        }

        function createBtnGroup(carousel,slideContainer,config){
            document.getElementById("leftArrow").addEventListener('click',(e) => {
                clearInterval(timer); // 清除定时器，避免手动切换时干扰
                if(clickAllow) slide(slideContainer,curIndex-1); // 允许点击则切换上一张
                timer = setInterval(() => {slide(slideContainer)},config.interval); // 重设定时器
            })
            document.getElementById("rightArrow").addEventListener('click',(e) => {
                clearInterval(timer); // 清除定时器，避免手动切换时干扰
                if(clickAllow) slide(slideContainer,curIndex+1); // 允许点击则切换下一张
                timer = setInterval(() => {slide(slideContainer)},config.interval); // 重设定时器
            })
            var sliderBtn = document.getElementById("sliderBtn"); // 获取按钮容器的引用
            imgArr.forEach((v,i) => {
                let btn = document.createElement("div"); // 制作按钮
                btn.className = i === 0 ?  "unitBtn active" : "unitBtn"; // 初设蓝色与灰色按钮样式
                btn.addEventListener('click',(e) => {
                    clearInterval(timer); // 清除定时器，避免手动切换时干扰
                    if(clickAllow) slide(slideContainer,i); // // 允许点击则切换
                    timer = setInterval(() => {slide(slideContainer)},config.interval); // 重设定时器
                })
                btnList.push(btn); // 添加按钮到按钮组
                sliderBtn.appendChild(btn); // 追加按钮到按钮容器
            })
        }


        function edgeDispose(slideContainer){
            var li = document.createElement("li"); // 创建<li>
            var img = document.createElement("img"); // 创建新的<img>
            img.src = imgArr[0].src; // 设置图片src
            li.appendChild(img); // 追加<img>到<li>
            slideContainer.appendChild(li); // 将第一张图片追加到轮播图的最后，作边缘处理
            var li2 = document.createElement("li"); // 创建<li>
            var img2 = document.createElement("img"); // 创建新的<img>
            img2.src = imgArr[imgArr.length-1].src; // 设置图片src
            li2.appendChild(img2); // 追加<img>到<li>
            slideContainer.insertBefore(li2,slideContainer.firstChild); // 将最后一张图片追加到轮播图的最前，作边缘处理
            slideContainer.style.left = `-${imgArr[0].width}px`; // 重设ul位置
        }

        function eventDispose(carousel,slideContainer,config){
            document.addEventListener('visibilitychange',function(){ // 浏览器切换页面会导致动画出现问题，监听页面切换
                if(document.visibilityState=='hidden') clearInterval(timer); // 页面隐藏清除定时器
                else timer = setInterval(() => {slide(slideContainer)},config.interval); // 重设定时器
            });
            carousel.addEventListener('mouseover',function(){ // 鼠标移动到容器则不切换动画，停止计时器
                clearInterval(timer); // 页面隐藏清除定时器
            });
            carousel.addEventListener('mouseleave',function(){ // 鼠标移出容器则开始动画
                timer = setInterval(() => {slide(slideContainer)},config.interval); // 重设定时器
            });
        }


        (function start() {
            var config = {
                height: "400px", // 配置高度
                interval: 3000 // 配置轮播时间间隔
            }
            var carousel = document.getElementById("carousel"); //获取容器对象的引用
            carousel.style.height = config.height; // 将轮播容器高度设定
            document.querySelectorAll("#carousel img").forEach(v => imgArr.push(v)); // 获取所有图片组成数组
            var slideContainer = document.querySelector("#carousel > ul"); // 获取ul也就是一行图片的容器
            edgeDispose(slideContainer); // 对边缘处理
            eventDispose(carousel,slideContainer,config); // 对一些浏览器事件处理
            createBtnGroup(carousel,slideContainer,config); // 按钮组的处理
            timer = setInterval(() => {slide(slideContainer)},config.interval); // 设置定时器定时切换
        })();
    </script>

  </body>
</html>
